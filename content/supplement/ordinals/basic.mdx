---
title: 基础
---

Ordinals 协议最初由 [Casey](https://x.com/rodarmor) 在 2022 年提出, 是一种可以给聪编号的方案。

比特币的最小单位是聪, 一个比特币等于 $10^8$ 聪。矿工在挖出区块, 获得新的比特币奖励时, 每个聪都可以被赋予一个编号。这个编号被称为聪的序数。由于比特币是基于 `UTXO` 模型, 在给聪绑定数据, 例如文本、序列化的图片等, 通过追踪聪的转移可以确定这些数据的所有权。

## 编号聪

区块补贴是凭空产生比特币的唯一方式。在一个新区块被产生时, 聪编号就被确定了。

从创世区块(第0个区块)开始, 区块补贴是 `50 BTC`, 在 `Coinbase` 交易中被输出到的 `UTXO` 中, 这些聪的编号范围在$[0, \ 50 \times 10^8)$ 内。当第1个区块挖出时, 聪的编号范围在$[50 \times 10^8, \ 100 \times 10^8)$ 内。 依次类推, 每个新区块产生时, 或者新的比特币被挖出时, 对应聪的编号就被确定了。

聪的编号表示有几种方法

- 整数表示: 从 0 开始, 每产出新的聪, 编号加 1
- 十进制表示: `<height>.<offset>`
  - `height`: 区块高度
  - `offset`: 偏移量
- 度数表示: `<cycle>°<epoch>’<period>″<offset>‴`
  - `cycle`: 每 6 次区块补贴减半为一个周期, 第 6 次减半大约发生在2032年。
  - `epoch`: 在一个周期内第几次减半, 范围在 0-5
  - `period`: 当前减半周期内的难度调整次数, 2016 个区块调整一次难度
  - `offset`: 偏移量

例如: 第 840005 个区块的第 10 个聪,

- 十进制表示: `840005.10`
- 度数表示: 处于第 4 个减半周期后, 故 `cycle=0, epoch=4`, 在当前周期内难度未调整, 故 `period=0`, 840005 区块在第四个减半周期偏移了5个区块, 且每个区块奖励是 `3.125 BTC`, 故 <InlineMath formula='\mathrm {offet=3.125 *5*10^8 + 10 =  1562500010}' />, 最后结果为 `0°4’0″1562500010‴`

:::note 稀有聪

- 普通： 任何不是区块中的第一个聪的聪
- 不常见： 每个区块的第一个聪
- 稀有： 每个难度调整时期的第一个聪
- 史诗： 每个减半时期的第一个聪
- 传奇： 每个周期的第一个聪
- 神话： 创世区块的第一个聪

:::

## 追踪聪

追踪聪主要依赖链下索引器, 索引器通过连接到比特币节点并实时监听新区块的产生。遍历新区块中的交易, 检测交易中是否包含符合 Ordinals 协议的数据。
